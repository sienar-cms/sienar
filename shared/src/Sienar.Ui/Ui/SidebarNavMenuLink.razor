@using Sienar.Menus
@inject IDelegateHandler DelegateHandler

@if (Link.Sublinks is null)
{
	<MudNavLink
    	Href="@Link.Url"
	    Icon="@Link.Icon"
	    OnClick="@(e => DelegateHandler.Handle(Link.OnClick, e))"
    	IconColor="Color.Inherit"
    	Match="NavLinkMatch.All">
    	@Link.Text
    </MudNavLink>
}
else
{
	<MudNavGroup
		Icon="@Link.Icon"
		Title="@Link.Text">
		@foreach (var sublink in Link.Sublinks)
		{
			<SidebarNavMenuLink Link="sublink"/>
		}
	</MudNavGroup>
}

@code {

	[Parameter]
	public required MenuLink Link { get; set; }

}